<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../../../img/favicon.ico">
        <title>Plugin API - Your Documentation Site</title>
        <link href="../../../../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../../../../..">Your Documentation Site</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../../../../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../../../../markdown/Introduction/" class="nav-link">Introduction</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../../../../markdown/authentication/" class="nav-link">Authentication</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../../../Index.html" class="nav-link">Endpoints</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Swagger UI</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../" class="dropdown-item">README</a>
</li>
                                    
<li>
    <a href="../../../SECURITY/" class="dropdown-item">SECURITY</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Docs</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../" class="dropdown-item">README</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Customization</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../add-plugin/" class="dropdown-item">Add Plugin</a>
</li>
            
<li>
    <a href="../custom-layout/" class="dropdown-item">Custom Layout</a>
</li>
            
<li>
    <a href="../overview/" class="dropdown-item">Overview</a>
</li>
            
<li>
    <a href="../plug-points/" class="dropdown-item">Plug Points</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Plugin API</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Development</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../development/scripts/" class="dropdown-item">Scripts</a>
</li>
            
<li>
    <a href="../../development/setting-up/" class="dropdown-item">Setting Up</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Usage</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../usage/configuration/" class="dropdown-item">Configuration</a>
</li>
            
<li>
    <a href="../../usage/cors/" class="dropdown-item">CORS</a>
</li>
            
<li>
    <a href="../../usage/deep-linking/" class="dropdown-item">Deep Linking</a>
</li>
            
<li>
    <a href="../../usage/installation/" class="dropdown-item">Installation</a>
</li>
            
<li>
    <a href="../../usage/limitations/" class="dropdown-item">Limitations</a>
</li>
            
<li>
    <a href="../../usage/oauth2/" class="dropdown-item">OAuth2</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../plug-points/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../development/scripts/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#plugins" class="nav-link">Plugins</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="plugins">Plugins</h1>
<p>A plugin is a function that returns an object - more specifically, the object may contain functions and components that augment and modify Swagger UI's functionality.</p>
<h3 id="note-semantic-versioning">Note: Semantic Versioning</h3>
<p>Swagger UI's internal APIs are <em>not</em> part of our public contract, which means that they can change without the major version change.</p>
<p>If your custom plugins wrap, extend, override, or consume any internal core APIs, we recommend specifying a specific minor version of Swagger UI to use in your application, because they will <em>not</em> change between patch versions.</p>
<p>If you're installing Swagger UI via NPM, for example, you can do this by using a tilde:</p>
<pre><code class="language-js">{
  &quot;dependencies&quot;: {
    &quot;swagger-ui&quot;: &quot;~3.11.0&quot;
  }
}
</code></pre>
<h3 id="format">Format</h3>
<p>A plugin return value may contain any of these keys, where <code>stateKey</code> is a name for a piece of state:</p>
<pre><code class="language-javascript">{
  statePlugins: {
    [stateKey]: {
      actions,
      reducers,
      selectors,
      wrapActions,
      wrapSelectors
    }
  },
  components: {},
  wrapComponents: {},
  rootInjects: {},
  afterLoad: (system) =&gt; {},
  fn: {},
}
</code></pre>
<h3 id="system-is-provided-to-plugins">System is provided to plugins</h3>
<p>Let's assume we have a plugin, <code>NormalPlugin</code>, that exposes a <code>doStuff</code> action under the <code>normal</code> state namespace.</p>
<pre><code class="language-javascript">const ExtendingPlugin = function(system) {
  return {
    statePlugins: {
      extending: {
        actions: {
          doExtendedThings: function(...args) {
            // you can do other things in here if you want
            return system.normalActions.doStuff(...args)
          }
        }
      }
    }
  }
}
</code></pre>
<p>As you can see, each plugin is passed a reference to the <code>system</code> being built up. As long as <code>NormalPlugin</code> is compiled before <code>ExtendingPlugin</code>, this will work without any issues.</p>
<p>There is no dependency management built into the plugin system, so if you create a plugin that relies on another, it is your responsibility to make sure that the dependent plugin is loaded <em>after</em> the plugin being depended on.</p>
<h3 id="interfaces">Interfaces</h3>
<h4 id="actions">Actions</h4>
<pre><code class="language-javascript">const MyActionPlugin = () =&gt; {
  return {
    statePlugins: {
      example: {
        actions: {
          updateFavoriteColor: (str) =&gt; {
            return {
              type: &quot;EXAMPLE_SET_FAV_COLOR&quot;,
              payload: str
            }
          }
        }
      }
    }
  }
}
</code></pre>
<p>Once an action has been defined, you can use it anywhere that you can get a system reference:</p>
<pre><code class="language-javascript">// elsewhere
system.exampleActions.updateFavoriteColor(&quot;blue&quot;)
</code></pre>
<p>The Action interface enables the creation of new Redux action creators within a piece of state in the Swagger UI system.</p>
<p>This action creator function will be exposed to container components as <code>exampleActions.updateFavoriteColor</code>. When this action creator is called, the return value (which should be a <a href="https://github.com/acdlite/flux-standard-action">Flux Standard Action</a>) will be passed to the <code>example</code> reducer, which we'll define in the next section.</p>
<p>For more information about the concept of actions in Redux, see the <a href="https://redux.js.org/tutorials/fundamentals/part-2-concepts-data-flow#actions">Redux Actions documentation</a>.</p>
<h4 id="reducers">Reducers</h4>
<p>Reducers take a state (which is an <a href="https://facebook.github.io/immutable-js/docs/#/Map">Immutable.js map</a>) and an action, then returns a new state.</p>
<p>Reducers must be provided to the system under the name of the action type that they handle, in this case, <code>EXAMPLE_SET_FAV_COLOR</code>.</p>
<pre><code class="language-javascript">const MyReducerPlugin = function(system) {
  return {
    statePlugins: {
      example: {
        reducers: {
          &quot;EXAMPLE_SET_FAV_COLOR&quot;: (state, action) =&gt; {
            // you're only working with the state under the namespace, in this case &quot;example&quot;.
            // So you can do what you want, without worrying about /other/ namespaces
            return state.set(&quot;favColor&quot;, action.payload)
          }
        }
      }
    }
  }
}
</code></pre>
<h4 id="selectors">Selectors</h4>
<p>Selectors reach into their namespace's state to retrieve or derive data from the state.</p>
<p>They're an easy way to keep logic in one place, and are preferred over passing state data directly into components.</p>
<pre><code class="language-javascript">const MySelectorPlugin = function(system) {
  return {
    statePlugins: {
      example: {
        selectors: {
          myFavoriteColor: (state) =&gt; state.get(&quot;favColor&quot;)
        }
      }
    }
  }
}
</code></pre>
<p>You can also use the Reselect library to memoize your selectors, which is recommended for any selectors that will see heavy use, since Reselect automatically memoizes selector calls for you:</p>
<pre><code class="language-javascript">import { createSelector } from &quot;reselect&quot;

const MySelectorPlugin = function(system) {
  return {
    statePlugins: {
      example: {
        selectors: {
          // this selector will be memoized after it is run once for a
          // value of `state`
          myFavoriteColor: createSelector((state) =&gt; state.get(&quot;favColor&quot;))
        }
      }
    }
  }
}
</code></pre>
<p>Once a selector has been defined, you can use it anywhere that you can get a system reference:</p>
<pre><code class="language-javascript">system.exampleSelectors.myFavoriteColor() // gets `favColor` in state for you
</code></pre>
<h4 id="components">Components</h4>
<p>You can provide a map of components to be integrated into the system.</p>
<p>Be mindful of the key names for the components you provide, as you'll need to use those names to refer to the components elsewhere.</p>
<pre><code class="language-javascript">class HelloWorldClass extends React.Component {
  render() {
    return &lt;h1&gt;Hello World!&lt;/h1&gt;
  }
}

const MyComponentPlugin = function(system) {
  return {
    components: {
      HelloWorldClass: HelloWorldClass
      // components can just be functions, these are called &quot;stateless components&quot;
      HelloWorldStateless: () =&gt; &lt;h1&gt;Hello World!&lt;/h1&gt;,
    }
  }
}
</code></pre>
<pre><code class="language-javascript">// elsewhere
const HelloWorldStateless = system.getComponent(&quot;HelloWorldStateless&quot;)
const HelloWorldClass = system.getComponent(&quot;HelloWorldClass&quot;)
</code></pre>
<p>You can also "cancel out" any components that you don't want by creating a stateless component that always returns <code>null</code>:</p>
<pre><code class="language-javascript">const NeverShowInfoPlugin = function(system) {
  return {
    components: {
      info: () =&gt; null
    }
  }
}
</code></pre>
<p>You can use <code>config.failSilently</code> if you don't want a warning when a component doesn't exist in the system.</p>
<p>Be mindful of <code>getComponent</code> arguments order. In the example below, the boolean <code>false</code> refers to presence of a container, and the 3rd argument is the config object used to suppress the missing component warning.</p>
<pre><code class="language-javascript">const thisVariableWillBeNull = getComponent(&quot;not_real&quot;, false, { failSilently: true })
</code></pre>
<h4 id="wrap-actions">Wrap-Actions</h4>
<p>Wrap Actions allow you to override the behavior of an action in the system.</p>
<p>They are function factories with the signature <code>(oriAction, system) =&gt; (...args) =&gt; result</code>.</p>
<p>A Wrap Action's first argument is <code>oriAction</code>, which is the action being wrapped. It is your responsibility to call the <code>oriAction</code> - if you don't, the original action will not fire!</p>
<p>This mechanism is useful for conditionally overriding built-in behaviors, or listening to actions.</p>
<pre><code class="language-javascript">// FYI: in an actual Swagger UI, `updateSpec` is already defined in the core code
// it's just here for clarity on what's behind the scenes
const MySpecPlugin = function(system) {
  return {
    statePlugins: {
      spec: {
        actions: {
          updateSpec: (str) =&gt; {
            return {
              type: &quot;SPEC_UPDATE_SPEC&quot;,
              payload: str
            }
          }
        }
      }
    }
  }
}

// this plugin allows you to watch changes to the spec that is in memory
const MyWrapActionPlugin = function(system) {
  return {
    statePlugins: {
      spec: {
        wrapActions: {
          updateSpec: (oriAction, system) =&gt; (str) =&gt; {
            // here, you can hand the value to some function that exists outside of Swagger UI
            console.log(&quot;Here is my API definition&quot;, str)
            return oriAction(str) // don't forget! otherwise, Swagger UI won't update
          }
        }
      }
    }
  }
}
</code></pre>
<h4 id="wrap-selectors">Wrap-Selectors</h4>
<p>Wrap Selectors allow you to override the behavior of a selector in the system.</p>
<p>They are function factories with the signature <code>(oriSelector, system) =&gt; (state, ...args) =&gt; result</code>.</p>
<p>This interface is useful for controlling what data flows into components. We use this in the core code to disable selectors based on the API definition's version.</p>
<pre><code class="language-javascript">import { createSelector } from 'reselect'

// FYI: in an actual Swagger UI, the `url` spec selector is already defined
// it's just here for clarity on what's behind the scenes
const MySpecPlugin = function(system) {
  return {
    statePlugins: {
      spec: {
        selectors: {
          url: createSelector(
            state =&gt; state.get(&quot;url&quot;)
          )
        }
      }
    }
  }
}

const MyWrapSelectorsPlugin = function(system) {
  return {
    statePlugins: {
      spec: {
        wrapSelectors: {
          url: (oriSelector, system) =&gt; (state, ...args) =&gt; {
            console.log('someone asked for the spec url!!! it is', state.get('url'))
            // you can return other values here...
            // but let's just enable the default behavior
            return oriSelector(state, ...args)
          }
        }
      }
    }
  }
}
</code></pre>
<h4 id="wrap-components">Wrap-Components</h4>
<p>Wrap Components allow you to override a component registered within the system.</p>
<p>Wrap Components are function factories with the signature <code>(OriginalComponent, system) =&gt; props =&gt; ReactElement</code>. If you'd prefer to provide a React component class, <code>(OriginalComponent, system) =&gt; ReactClass</code> works as well.</p>
<pre><code class="language-javascript">const MyWrapBuiltinComponentPlugin = function(system) {
  return {
    wrapComponents: {
      info: (Original, system) =&gt; (props) =&gt; {
        return &lt;div&gt;
          &lt;h3&gt;Hello world! I am above the Info component.&lt;/h3&gt;
          &lt;Original {...props} /&gt;
        &lt;/div&gt;
      }
    }
  }
}
</code></pre>
<p>Here's another example that includes a code sample of a component that will be wrapped:</p>
<pre><code class="language-javascript">/////  Overriding a component from a plugin

// Here's our normal, unmodified component.
const MyNumberDisplayPlugin = function(system) {
  return {
    components: {
      NumberDisplay: ({ number }) =&gt; &lt;span&gt;{number}&lt;/span&gt;
    }
  }
}

// Here's a component wrapper defined as a function.
const MyWrapComponentPlugin = function(system) {
  return {
    wrapComponents: {
      NumberDisplay: (Original, system) =&gt; (props) =&gt; {
        if(props.number &gt; 10) {
          return &lt;div&gt;
            &lt;h3&gt;Warning! Big number ahead.&lt;/h3&gt;
            &lt;Original {...props} /&gt;
          &lt;/div&gt;
        } else {
          return &lt;Original {...props} /&gt;
        }
      }
    }
  }
}

// Alternatively, here's the same component wrapper defined as a class.
const MyWrapComponentPlugin = function(system) {
  return {
    wrapComponents: {
      NumberDisplay: (Original, system) =&gt; class WrappedNumberDisplay extends React.component {
        render() {
          if(props.number &gt; 10) {
            return &lt;div&gt;
              &lt;h3&gt;Warning! Big number ahead.&lt;/h3&gt;
              &lt;Original {...props} /&gt;
            &lt;/div&gt;
          } else {
            return &lt;Original {...props} /&gt;
          }
        }
      }
    }
  }
}
</code></pre>
<h4 id="rootinjects"><code>rootInjects</code></h4>
<p>The <code>rootInjects</code> interface allows you to inject values at the top level of the system.</p>
<p>This interface takes an object, which will be merged in with the top-level system object at runtime.</p>
<pre><code class="language-js">const MyRootInjectsPlugin = function(system) {
  return {
    rootInjects: {
      myConstant: 123,
      myMethod: (...params) =&gt; console.log(...params)
    }
  }
}
</code></pre>
<h4 id="afterload"><code>afterLoad</code></h4>
<p>The <code>afterLoad</code> plugin method allows you to get a reference to the system after your plugin has been registered.</p>
<p>This interface is used in the core code to attach methods that are driven by bound selectors or actions. You can also use it to execute logic that requires your plugin to already be ready, for example fetching initial data from a remote endpoint and passing it to an action your plugin creates.</p>
<p>The plugin context, which is bound to <code>this</code>, is undocumented, but below is an example of how to attach a bound action as a top-level method:</p>
<pre><code class="language-javascript">const MyMethodProvidingPlugin = function() {
  return {
    afterLoad(system) {
      // at this point in time, your actions have been bound into the system
      // so you can do things with them
      this.rootInjects = this.rootInjects || {}
      this.rootInjects.myMethod = system.exampleActions.updateFavoriteColor
    },
    statePlugins: {
      example: {
        actions: {
          updateFavoriteColor: (str) =&gt; {
            return {
              type: &quot;EXAMPLE_SET_FAV_COLOR&quot;,
              payload: str
            }
          }
        }
      }
    }
  }
}
</code></pre>
<h4 id="fn">fn</h4>
<p>The fn interface allows you to add helper functions to the system for use elsewhere.</p>
<pre><code class="language-javascript">import leftPad from &quot;left-pad&quot;

const MyFnPlugin = function(system) {
  return {
    fn: {
      leftPad: leftPad
    }
  }
}
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../../../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../../../../js/base.js"></script>
        <script src="../../../../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
